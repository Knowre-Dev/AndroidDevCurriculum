# ë¶€ë™ ì†Œìˆ˜ì 

## ðŸ“Œ Intro

- 1.5F * 0.3F ë¥¼ ê³„ì‚°í•˜ë©´ 4.5F ë‚˜ì™€ì•¼í•˜ëŠ”ë° 0.45000002F ì™€ ê°™ì´ ì •í™•í•œ 0.45F ê°€ ì•„ë‹Œ ê°’ì´ ê²°ê³¼ë¡œ ë¦¬í„´ëœë‹¤.

``` kotlin
@Test
fun floating_point() {
  val first  = 1.5F
  val second = 0.3F

  val expected = 0.45F
  val actual   = first * second

  assertThat(actual).isEqualTo(expected)
}

// org.junit.ComparisonFailure: 
// Expected :0.45f
// Actual   :0.45000002f
```

- ì†Œìˆ˜ì ì— ë¯¼ê°í•˜ì§€ ì•Šì€ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ í¬ê²Œ ìƒê´€ì—†ì„ ìˆ˜ ìžˆê² ì§€ë§Œ ìˆ«ìžì˜ ì •í™•ë„ì— ë¯¼ê°í•œ ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ë¼ë©´ ì‹¤ìˆ˜ ê³„ì‚° ì˜¤ì°¨ì— ëŒ€í•´ ë¯¸ë¦¬ ì¸ì§€í•˜ê³  ì´ì— ëŒ€ì‘í•˜ì—¬ ì•±ì„ ê°œë°œí•´ì•¼ í•  ê²ƒì´ë‹¤.
- ë”ë¶ˆì–´, ë¶€ë™ ì†Œìˆ˜ì  ê³„ì‚° ë°©ì‹ì— ëŒ€í•œ ì´í•´ë„ ìžˆë‹¤ë©´ ë”ìš± ì¢‹ì„ ê²ƒì´ë‹¤.
- ì‹¤ìˆ˜ ê³„ì‚°ì´ ì˜¤ì°¨ê°€ ë‚˜ëŠ” ì´ìœ ì™€ ë¶€ë™ ì†Œìˆ˜ì  ê³„ì‚° ë°©ì‹ì„ ì•Œì•„ë³´ê³  ì•ˆë“œë¡œì´ë“œì—ì„œ ì´ ì˜¤ì°¨ë¥¼ í”¼í•´ê°ˆ ìˆ˜ ìžˆëŠ” ë°©ë²•ì„ ì•Œì•„ë³´ìž.

## ðŸ“Œ ëª©í‘œ
- **ì‹¤ìˆ˜ ê³„ì‚°ì´ ì˜¤ì°¨ê°€ ë‚˜ëŠ” ì´ìœ ë¥¼ ì•Œ ìˆ˜ ìžˆë‹¤.**
- **ë¶€ë™ ì†Œìˆ˜ì  ê³„ì‚° ë°©ì‹ì„ ì´í•´í•œë‹¤.**
- **ì•ˆë“œë¡œì´ë“œì—ì„œ ì‹¤ìˆ˜ ê³„ì‚° ì˜¤ì°¨ë¥¼ í”¼í•´ ê°œë°œí•  ìˆ˜ ìžˆë‹¤.**

## ðŸ“Œ ì‹¤ìˆ˜ ê³„ì‚° ì˜¤ì°¨

ê²°ë¡ ë¶€í„° ë§í•˜ìžë©´, âœ”ï¸10ì§„ìˆ˜ì˜ ì†Œìˆ˜ë¶€ë¥¼ 2ì§„ìˆ˜ë¡œ í‘œí˜„í•  ë•Œ ê°’ì´ ëì´ ë‚˜ì§€ ì•Šê³  ë¬´í•œížˆ ë°˜ë³µë˜ëŠ” ì†Œìˆ˜ë¶€ê°€ ë°œìƒí•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ì˜¤ì°¨ê°€ ìƒê¸´ë‹¤.
ì´ë¥¼ ì´í•´í•˜ê¸° ìœ„í•´ ì‹¤ìˆ˜ë¥¼ ì´ì§„ìˆ˜ë¡œ ë°”ê¿” í‘œí˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ìž(ì»´í“¨í„°ëŠ” ëª¨ë“  ê²ƒì„ 0 ê³¼ 1 ì´ì§„ìˆ˜ë¡œ ì €ìž¥í•˜ë¯€ë¡œ). 
253.3 ì„ ì˜ˆì œë¡œ ë“¤ì–´ ì´ì§„ìˆ˜ë¡œ ë³€í™˜í•´ë³´ìž.

- ì •ìˆ˜ë¶€ë¥¼ ì´ì§„ìˆ˜ë¡œ ë°”ê¾¸ëŠ” ë²•
  - 253 ì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì ëŠ”ë‹¤. 253/2 = ëª« 126 ë‚˜ë¨¸ì§€ 1
  - 126 ì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì ëŠ”ë‹¤. 126/2 = ëª« 63 ë‚˜ë¨¸ì§€ 0
  - 63 ì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì ëŠ”ë‹¤. 63/2 = ëª« 31 ë‚˜ë¨¸ì§€ 1
  - 31 ì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì ëŠ”ë‹¤. 31/2 = ëª« 15 ë‚˜ë¨¸ì§€ 1
  - 15 ì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì ëŠ”ë‹¤. 15/2 = ëª« 7 ë‚˜ë¨¸ì§€ 1
  - 7 ì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì ëŠ”ë‹¤. 7/2 = ëª« 3 ë‚˜ë¨¸ì§€ 1
  - 3 ì„ 2ë¡œ ë‚˜ëˆˆ ë‚˜ë¨¸ì§€ë¥¼ ì ëŠ”ë‹¤. 3/2 = ëª« 1 ë‚˜ë¨¸ì§€ 1
  - ë”ì´ìƒ ë‚˜ëˆŒ ìˆ˜ ì—†ì„ ë•Œ ë§ˆì§€ë§‰ ëª« ë¶€í„° ë‚˜ë¨¸ì§€ë¥¼ ì•„ëž˜ë¶€í„° ìœ„ë¡œ ê±°ê¾¸ë¡œ ë‚˜ì—´í•œë‹¤.
  - 11111101

- ì†Œìˆ˜ë¶€ë¥¼ ì´ì§„ìˆ˜ë¡œ ë°”ê¾¸ëŠ” ë²•
  - 0.3 ì— 2 ë¥¼ ê³±í•œë‹¤. 0.3 * 2 = 0.6 ê³±í•œ ê°’ì˜ ì •ìˆ˜ ë¶€ë¶„ì„ ì ê³  ì†Œìˆ˜ ë¶€ë¶„ë§Œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ê¸´ë‹¤. 0
  - 0.6 ì— 2 ë¥¼ ê³±í•œë‹¤. 0.6 * 2 = 1.2 ê³±í•œ ê°’ì˜ ì •ìˆ˜ ë¶€ë¶„ì„ ì ê³  ì†Œìˆ˜ ë¶€ë¶„ë§Œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ê¸´ë‹¤. 1
  - 0.2 ì— 2 ë¥¼ ê³±í•œë‹¤. 0.2 * 2 = 0.4 ê³±í•œ ê°’ì˜ ì •ìˆ˜ ë¶€ë¶„ì„ ì ê³  ì†Œìˆ˜ ë¶€ë¶„ë§Œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ê¸´ë‹¤. 0
  - 0.4 ì— 2 ë¥¼ ê³±í•œë‹¤. 0.4 * 2 = 0.8 ê³±í•œ ê°’ì˜ ì •ìˆ˜ ë¶€ë¶„ì„ ì ê³  ì†Œìˆ˜ ë¶€ë¶„ë§Œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ê¸´ë‹¤. 0
  - 0.8 ì— 2 ë¥¼ ê³±í•œë‹¤. 0.8 * 2 = 1.6 ê³±í•œ ê°’ì˜ ì •ìˆ˜ ë¶€ë¶„ì„ ì ê³  ì†Œìˆ˜ ë¶€ë¶„ë§Œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ê¸´ë‹¤. 1
  - 0.6 ì— 2 ë¥¼ ê³±í•œë‹¤. 0.6 * 2 = 1.2 ê³±í•œ ê°’ì˜ ì •ìˆ˜ ë¶€ë¶„ì„ ì ê³  ì†Œìˆ˜ ë¶€ë¶„ë§Œ ë‹¤ìŒ ë‹¨ê³„ë¡œ ë„˜ê¸´ë‹¤. 1
  - 1.2 ê°’ì€ ìœ„ì—ì„œë„ ë‚˜ì™”ìœ¼ë¯€ë¡œ 0011 ë¶€ë¶„ì´ ê³„ì† ë°˜ë³µë˜ê²Œëœë‹¤. (ë§Œì•½ ê³±í•œ ê°’ì´ 1.0 ì´ ë‚˜ì˜¤ë©´ ê±°ê¸°ì„œ ë©ˆì¶˜ë‹¤.)
  - ì ì—ˆë˜ ê°’ì„ ìœ„ì—ì„œ ì•„ëž˜ë¡œ ë‚˜ì—´í•œë‹¤.
  - 010011001100110011......

- ìœ„ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ìˆ˜(253.3)ë¥¼ ì´ì§„ìˆ˜ë¡œ ë°”ê¾¸ë©´,
  - 253 ì„ ì´ì§„ìˆ˜ë¡œ ë°”ê¾¸ë©´ -> 11111101
  - 0.3 ì„ ì´ì§„ìˆ˜ë¡œ ë°”ê¾¸ë©´ -> 01001100110011....
  - 253.3 = 11111101.01001100110011....
    - ê²°ê³¼ì ìœ¼ë¡œ 0.3 ì„ ì´ì§„ìˆ˜ë¡œ ë°”ê¾¸ë©´ 0011 ì´ ê³„ì† **ë¬´í•œìœ¼ë¡œ ë°˜ë³µë˜ê²Œ ëœë‹¤.**
    - ë•Œë¬¸ì— 253.3 ì„ ì´ì§„ìˆ˜ë¡œ ë°”ê¿” ì €ìž¥í•˜ë ¤ë©´ ê³„ì† ë¬´í•œìœ¼ë¡œ ë°˜ë³µë˜ëŠ” ì†Œìˆ˜ë¶€ë¥¼ íŠ¹ì • ë¶€ë¶„ì—ì„œ ë²„ë¦¼í•´ì•¼í•œë‹¤. (ë¬´í•œí•œ ë°ì´í„°ë¥¼ ì €ìž¥í•  ìˆ˜ ì—†ìœ¼ë¯€ë¡œ)
    - ì´ ë•Œë¬¸ì— ì‹¤ìˆ˜ë¥¼ ì´ì§„ìˆ˜ë¡œ ë³€ê²½í–ˆì„ ë•Œ ë¬´í•œí•œ ê°’ì„ ê°€ì§€ê²Œ ë  ê²½ìš° ì‹¤ìˆ˜ë¥¼ ì €ìž¥/ê³„ì‚°í•  ë•Œ ì˜¤ì°¨ê°€ ìƒê¸°ê²Œ ëœë‹¤.

## ðŸ“Œ Float êµ¬ì¡°

### 1. ê³ ì • ì†Œìˆ˜ì 

![ê³ ì •ì†Œìˆ˜ì ](/Prerequisites/ComputerScience/FloatingPoint/Images/fixed_point_structure.png)

- í‘œí˜„ ë°©ì‹
  - ì´ 32 ë¹„íŠ¸ ì¼ ë•Œ,
  - ë§¨ ì•ž í•œ ë¹„íŠ¸ëŠ” ë¶€í˜¸ì— ì‚¬ìš©ë˜ë©°
  - ì´ì–´ì„œ 15ë¹„íŠ¸ëŠ” ì •ìˆ˜ í‘œí˜„ì— ì‚¬ìš©ë˜ê³ 
  - ë’¤ ì´ì–´ì„œ 16ë¹„íŠ¸ëŠ” ì†Œìˆ˜ë¶€ì— ì‚¬ìš©ëœë‹¤.

- ì˜ˆ)
  - 235.3 (11111101.01001100110011....)
    - ì–‘ìˆ˜ì´ë¯€ë¡œ ë¶€í˜¸ë¹„íŠ¸ì—ëŠ” 0 ì €ìž¥
    - ì •ìˆ˜ ë¶€ë¶„ì„ ì •ìˆ˜ í‘œí˜„ ë¹„íŠ¸ì— ì €ìž¥ 000000011111101
    - ì†Œìˆ˜ ë¶€ë¶„ì„ ì†Œìˆ˜ í‘œí˜„ ë¹„íŠ¸ì— ì €ìž¥(ì €ìž¥ ê°€ëŠ¥í•œ 16 ë¹„íŠ¸ê¹Œì§€ë§Œ) 010011001100110
    - 0000000011111101010011001100110

- ê³ ì • ì†Œìˆ˜ì ì˜ ë¬¸ì œì 
  - ì •ìˆ˜ í‘œí˜„ë¶€ê°€ 15ë¹„íŠ¸ì´ê¸° ë•Œë¬¸ì— -2ì˜ 15ìŠ¹ ë¶€í„° 2ì˜ 15ìŠ¹ ì¦‰, -32768 ~ 32768 ê¹Œì§€ì˜ ìˆ˜ë§Œ ì €ìž¥ ê°€ëŠ¥í•˜ê²Œ ëœë‹¤.
  - 3ë§Œ 5ì²œë„ ì €ìž¥ì„ ëª»í•˜ê²Œ ë¨.
  - ë‚´ í……ìž¥ì—ë„ 3ë§Œ 5ì²œì›ì€ ìžˆìŒ...

### 2. ë¶€ë™ ì†Œìˆ˜ì 

![ë¶€ë™ì†Œìˆ˜ì ](/Prerequisites/ComputerScience/FloatingPoint/Images/floating_point_structure.png)

ìœ„ì²˜ëŸ¼ ê³ ì • ì†Œìˆ˜ì ì€ ê·¸ í‘œí˜„ë²”ìœ„ê°€ ë§¤ìš° ìž‘ë‹¤. ë•Œë¬¸ì— í‘œí˜„ ë²”ìœ„ë¥¼ ë„“íž ìˆ˜ ìžˆëŠ” ë°©ì‹ì— ëŒ€í•œ ê³ ë¯¼ìœ¼ë¡œ ë¶€ë™ ì†Œìˆ˜ì ì´ ë‚˜ì™”ê³  ì´ì˜ í‘œì¤€ì´ [IEEE 754](https://en.wikipedia.org/wiki/IEEE_754)(ì „ê¸° ì „ìž ê¸°ìˆ ìž í˜‘íšŒ ë¶€ë™ ì†Œìˆ˜ì  í‘œí˜„ ë°©ì‹ í‘œì¡´)ì´ë‹¤.
ì´ì— ëŒ€í•´ ì•Œì•„ë³´ìž.

- í‘œí˜„ë°©ì‹
  - ì´ 32 ë¹„íŠ¸ ì¼ ë•Œ,
  - ë§¨ ì•ž í•œ ë¹„íŠ¸ëŠ” ë¶€í˜¸ì— ì‚¬ìš©ë˜ë©°
  - ì´ì–´ì„œ 8 ë¹„íŠ¸ëŠ” ì§€ìˆ˜ë¶€ì— í‘œí˜„ë˜ë©°
  - ë’¤ ì´ì–´ì„œ 23 ë¹„íŠ¸ëŠ” ê°€ìˆ˜ë¶€ì— ì‚¬ìš©ëœë‹¤.

- ì˜ˆ)
- 235.3 (11111101.01001100110011....)
  - ìœ„ 11111101.01001100110011.... ì„ ì§€ìˆ˜ì™€ ê°€ìˆ˜ê°€ ìžˆëŠ” í‘œí˜„ì‹ìœ¼ë¡œ ì •ê·œí™”í•œë‹¤.
  - ì •ê·œí™”ëŠ” ì†Œìˆ˜ì  ì•ž ë¶€ë¶„ì— 1ë§Œ ë‚¨ë„ë¡ ì†Œìˆ˜ì ì„ ì˜®ê¸°ê³  2ì˜ ì§€ìˆ˜ìŠ¹ì„ ê³±í•´ í‘œí˜„í•˜ëŠ” ë°©ì‹ì„ ë§í•œë‹¤.
  - 1.1111101001100110011..*2^7 (ì´ì§„ìˆ˜ì˜ ì†Œìˆ˜ì ì„ ì•žìœ¼ë¡œ 7ì¹¸ ì˜®ê²¼ìœ¼ë¯€ë¡œ 2ì˜ 7ìŠ¹ì„ ê³±í•œë‹¤.)
    - ì—¬ê¸°ì„œ ì§€ìˆ˜ëŠ” 7 ê°€ìˆ˜ëŠ” ì†Œìˆ˜ì  ì•„ëž˜ì¸ **1111101001100110011..** ì´ë‹¤.
    - ì§€ìˆ˜ 7 ì„ ì €ìž¥í•  ë•ŒëŠ” ì§€ìˆ˜ë¥¼ ì €ìž¥í•˜ëŠ” 8ë¹„íŠ¸ì— ë°”ë¡œ ì´ì§„ìˆ˜ë¡œ ë³€í™˜í•´ ì €ìž¥í•˜ì§€ ì•Šê³  bias(32ë¹„íŠ¸ì¼ ë•ŒëŠ” 127)ë¥¼ ë”í•´ ì €ìž¥í•œë‹¤.
    - ë•Œë¬¸ì—, 127 + 7 = 134 ë¥¼ ì´ì§„ìˆ˜ë¡œ ë³€í™˜í•´ ì§€ìˆ˜ íŒŒíŠ¸ì— ì €ìž¥í•œë‹¤.
      - bias ë¥¼ ì ìš©í•˜ëŠ” ì´ìœ ëŠ” ì •ê·œí™” ê³¼ì •ì—ì„œ ì†Œìˆ˜ì ì´ ì•žìœ¼ë¡œë§Œ ê°ˆ ìˆ˜ ìžˆëŠ”ê²Œ ì•„ë‹ˆë¼ ë’¤ë¡œë„ ê°ˆ ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— minus ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•¨ì´ë‹¤. ex(0.5) (ì´ëŠ” ì•„ëž˜ì—ì„œ ë” ë‹¤ë¤„ë³´ìž)
      - ì†Œìˆ˜ì ì´ ë’¤ë¡œ 7ì¹¸ ê°ˆ ë•ŒëŠ” 2ì˜ -7ìŠ¹ìœ¼ë¡œ í‘œí˜„í•˜ê³  ì´ë¥¼ ì´ì§„ìˆ˜ë¡œ í‘œí˜„í•  ë•ŒëŠ” 127ì—ì„œ -7ì„ ë”í•˜ë©´ 120ì´ ë˜ê³  ì´ ê°’ì„ ì´ì§„ìˆ˜ë¡œ ë³€í™˜í•´ ì €ìž¥í•œë‹¤.
    - **ì§€ìˆ˜ 134ëŠ” ì´ì§„ìˆ˜ë¡œ 10000110**
  - ê·¸ëŸ¬ë¯€ë¡œ ë¶€í˜¸ë¹„íŠ¸ëŠ” ì–‘ìˆ˜ì´ë¯€ë¡œ 0
  - ì§€ìˆ˜ ë¹„íŠ¸ëŠ” 10000110
  - ê°€ìˆ˜ ë¹„íŠ¸ëŠ” 11111110100110011001100
  - 0 10000110 11111110100110011001100 
- 0.5 ë¥¼ ë¶€ë™ì†Œìˆ˜ì ìœ¼ë¡œ í‘œí˜„í•´ë³´ìž (bias ê´€ë ¨)
  - 0.5 ë¥¼ ì´ì§„ìˆ˜ë¡œ í‘œí˜„í•˜ë©´ 
  - 0.1
  - ì´ë¥¼ ì •ê·œí™”(ì†Œìˆ˜ì  ì•žë¶€ë¶„ì— 1ë§Œ ë‚¨ë„ë¡ í•¨)í•˜ë ¤ë©´ ì†Œìˆ˜ì ì„ ë’¤ë¡œ í•œì¹¸ ì˜®ê²¨ì•¼í•¨
  - 1.0*2^-1 
  - ì§€ìˆ˜ìŠ¹ -1 ì„ í‘œí˜„í•˜ê¸° ìœ„í•´ 127 ì´ëž€ bias ë¥¼ ë‘ê³  127-1 = 126 ì„ -1 ë¡œ ì¸ì‹í•˜ë„ë¡ í•¨

### 3. ì•ˆë“œë¡œì´ë“œì—ì„œ ì‹¤ìˆ˜ ê³„ì‚° ì˜¤ì°¨ë¥¼ í”¼í•˜ìž

- BigDecimal ì„ ì‚¬ìš©í•œë‹¤.
  - ì•„ëž˜ì™€ ê°™ì´ BigDecimal í´ëž˜ìŠ¤ë¥¼ ì´ìš©í•´ì„œ ì •í™•í•œ ê°’ì„ ê³„ì‚°í•œë‹¤.
  - í•˜ì§€ë§Œ BigDecimal ì€ í´ëž˜ìŠ¤ê³  ì¸ìŠ¤í„´ìŠ¤ ìƒì„±ì— ì˜¤ë²„í—¤ë“œê°€ ê±¸ë¦°ë‹¤.
  - ë§Žì§€ ì•Šì€ float ì˜ ê³„ì‚°ì—ì„œëŠ” BigDecimal ì˜ ì‚¬ìš©ì´ ìœ ì˜ë¯¸í•´ë³´ì¸ë‹¤.
  - í•˜ì§€ë§Œ, ë¬´ìˆ˜ížˆ ë§Žì€ float ì˜ ê³„ì‚° ì˜ˆë¥¼ë“¤ì–´ drawing ì¢Œí‘œ(ìˆ˜ì²œ, ìˆ˜ë§Œ ê°œ)ì™€ ê°™ì€ ê²ƒì„ ê³„ì‚°í•  ë•ŒëŠ” ê·¸ë§Œí¼ í´ëž˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼í•˜ë¯€ë¡œ ì„±ëŠ¥ì— ë¬´ë¦¬ê°€ ê°ˆ ìˆ˜ ìžˆìŒì„ ì¸ì§€í•˜ìž

``` kotlin
@Test
fun floating_point() {
  val first  = BigDecimal(1.5F.toString()) /** ìŠ¤íŠ¸ë§ì„ ë°”ê¾¸ì§€ ì•Šìœ¼ë©´ ì—¬ì „ížˆ ì˜¤ì°¨ê°€ ë°œìƒí•œë‹¤. */
  val second = 0.3F.toBigDecimal() /** ì´ë ‡ê²Œ ì¨ë„ ë¬´ë°© */

  val expected = 0.45F
  val actual   = (first * second).toFloat() /** ì½”í‹€ë¦°ì— ì—°ì‚°ìž ì˜¤ë²„ë¡œë“œë˜ì–´ ìžˆìŒ */

  assertThat(actual).isEqualTo(expected)
}

//Test passed: 1 of 1 test
```

> ì´ë¯¸ì§€ ì¶œì²˜ : 
> - http://tcpschool.com/cpp/cpp_datatype_floatingPointNumber
